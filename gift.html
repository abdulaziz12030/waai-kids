<!doctype html><html lang="ar" dir="rtl"><head>
<meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1">
<title>Ø¨Ø·Ø§Ù‚Ø© Ø§Ù„Ø¥Ù‡Ø¯Ø§Ø¡</title>
<link rel="stylesheet" href="css.css">
</head><body>
<header>
  <div class="container nav">
    <div class="brand">
      <img class="logo" src="images/logo.png" alt="Ø´Ø¹Ø§Ø± ÙˆØ§Ø¹ÙŠ ÙƒÙŠØ¯Ø²">
      <span style="font-weight:900">ÙˆØ§Ø¹ÙŠ ÙƒÙŠØ¯Ø²</span>
    </div>
    <a href="checkout.html" class="ghost" style="gap:6px">ğŸ›ï¸ <span data-cart-count>0</span></a>
  </div>
</header>

<main class="container" style="padding:18px 0">
  <div class="card" data-reveal>
    <div class="grid" style="grid-template-columns:1fr 1fr">
      <div class="body">
        <label style="display:flex;gap:8px;align-items:center">
          <input type="checkbox" id="enable" checked>
          <strong>ØªÙØ¹ÙŠÙ„ Ø¨Ø·Ø§Ù‚Ø© Ø§Ù„Ø¥Ù‡Ø¯Ø§Ø¡ (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)</strong>
        </label>
        <label>Ø§Ù„Ø§Ø³Ù… Ø¹Ù„Ù‰ Ø§Ù„Ø¨Ø·Ø§Ù‚Ø©</label>
        <input id="g-name" class="ghost" placeholder="Ù…Ø«Ø§Ù„: Ù„Ù„Ù…ÙˆÙ„ÙˆØ¯Ø© Ø´Ù‡Ø¯">
        <label>Ø±Ø³Ø§Ù„Ø© Ù‚ØµÙŠØ±Ø©</label>
        <textarea id="g-msg" class="ghost" rows="4" placeholder="Ù…Ø«Ø§Ù„: Ù†ÙÙˆØ±ØªÙŠ Ø§Ù„Ø¯Ù†ÙŠØ§ ÙŠØ§ Ø£Ø¬Ù…Ù„ Ø§Ù„Ø¹Ø·Ø§ÙŠØ§"></textarea>
        <label>Ù…Ù† (Ø§Ø³Ù… Ø§Ù„Ù…ÙÙ‡Ø¯ÙŠ)</label>
        <input id="g-from" class="ghost" placeholder="Ù…Ø«Ø§Ù„: Ù…Ù† Ø®Ø§Ù„ØªÙƒÙ… Ù…Ø¯Ù‰">
        <div class="actions" style="margin-top:12px">
          <a class="btn" id="to-checkout">Ø¥Ø¶Ø§ÙØ© Ù„Ù„Ø³Ù„Ø© ÙˆÙ…ØªØ§Ø¨Ø¹Ø©</a>
          <a class="ghost" href="product.html">Ø±Ø¬ÙˆØ¹</a>
        </div>
      </div>
      <div class="body">
        <div class="pic" style="border:1px dashed #cfe1ea;border-radius:12px;display:grid;place-items:center">
          <div style="text-align:center">
            <div style="font-weight:800;margin-bottom:6px">Ù…Ø¹Ø§ÙŠÙ†Ø© Ø¨Ø·Ø§Ù‚Ø© Ø§Ù„Ø¥Ù‡Ø¯Ø§Ø¡</div>
            <div id="pv-name" style="font-weight:800"></div>
            <div id="pv-msg"></div>
            <div id="pv-from" style="opacity:.7"></div>
          </div>
        </div>
      </div>
    </div>
  </div>
</main>

<script type="module">
import { Cart, initReveal } from './js/cart.js';
const $ = s=>document.querySelector(s);
function render(){
  $('#pv-name').textContent = $('#g-name').value || 'â€”';
  $('#pv-msg').textContent  = $('#g-msg').value  || 'â€”';
  $('#pv-from').textContent = $('#g-from').value ? ('Ù…Ù†: '+$('#g-from').value) : 'â€”';
}
['#g-name','#g-msg','#g-from'].forEach(sel=> $(sel).addEventListener('input', render));
render();

document.getElementById('to-checkout').addEventListener('click', ()=>{
  const items = Cart.get();
  if(!items.length){ alert('Ø§Ù„Ø³Ù„Ø© ÙØ§Ø±ØºØ©ØŒ Ø£Ø¶Ù Ø§Ù„Ù…Ù†ØªØ¬ Ø£ÙˆÙ„Ø§Ù‹'); return; }
  const last = items[items.length-1];
  const enabled = document.getElementById('enable').checked;
  last.gift = enabled ? { name: $('#g-name').value.trim(), message: $('#g-msg').value.trim(), from: $('#g-from').value.trim() } : null;
  Cart.set(items);
  location.href = 'checkout.html';
});
initReveal();
</script>
</body></html>
