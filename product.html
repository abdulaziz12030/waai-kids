<!doctype html><html lang="ar" dir="rtl"><head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ù…Ù†ØªØ¬</title>
<link rel="stylesheet" href="css.css">
</head><body>
<header>
  <div class="container nav">
    <div class="brand"><img class="logo" src="images/logo.png" alt="ÙˆØ§Ø¹ÙŠ ÙƒÙŠØ¯Ø²"><strong>waai-kids.sa</strong></div>
    <a class="cart-link" href="checkout.html" aria-label="Ø§Ù„Ø³Ù„Ø©">ğŸ›ï¸ <span class="bubble" data-cart-count>0</span></a>
  </div>
</header>

<main class="container" style="padding:18px 0">
  <div class="card" data-reveal><div class="body" style="display:grid;gap:12px">
    <h1 id="p-name" class="fade-up">â€”</h1>
    <img id="p-img" alt="" style="border-radius:12px" data-anim="float">
    <div class="price"><span>Ø§Ù„Ø³Ø¹Ø±:</span> <strong id="p-price">149</strong> Ø±.Ø³</div>

    <label>Ù†ÙˆØ¹ Ø§Ù„Ø¨ÙÙƒØ³</label>
    <select id="p-type" class="ghost">
      <option value="baby-girl">Ø¨Ù†Ø§Øª</option>
      <option value="baby-boy">Ø£ÙˆÙ„Ø§Ø¯</option>
    </select>

    <label>Ø§Ù„ÙƒÙ…ÙŠØ©</label>
    <div><input id="qty" type="number" min="1" value="1" class="ghost" style="width:110px"></div>

    <!-- Ø¨Ø·Ø§Ù‚Ø© Ø§Ù„Ø¥Ù‡Ø¯Ø§Ø¡ Ø¯Ø§Ø®Ù„ Ù†ÙØ³ Ø§Ù„ØµÙØ­Ø© -->
    <div class="pill">Ø¨Ø·Ø§Ù‚Ø© Ø§Ù„Ø¥Ù‡Ø¯Ø§Ø¡ (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)</div>
    <label style="display:flex;align-items:center;gap:8px">
      <input type="checkbox" id="enableGift" checked> ØªÙØ¹ÙŠÙ„ Ø¨Ø·Ø§Ù‚Ø© Ø§Ù„Ø¥Ù‡Ø¯Ø§Ø¡
    </label>
    <input id="g-name" class="ghost" placeholder="Ø§Ù„Ø§Ø³Ù… Ø¹Ù„Ù‰ Ø§Ù„Ø¨Ø·Ø§Ù‚Ø© (Ù…Ø«Ø§Ù„: Ù„Ù„Ù…ÙˆÙ„ÙˆØ¯Ø© Ø´Ù‡Ø¯)">
    <textarea id="g-msg" class="ghost" rows="3" placeholder="Ø±Ø³Ø§Ù„Ø© Ù‚ØµÙŠØ±Ø© (Ù…Ø«Ø§Ù„: Ù†ÙˆØ±ØªÙ Ø§Ù„Ø¯Ù†ÙŠØ§ ÙŠØ§ Ø£Ø¬Ù…Ù„ Ø§Ù„Ø¹Ø·Ø§ÙŠØ§)"></textarea>
    <input id="g-from" class="ghost" placeholder="Ù…Ù† (Ù…Ø«Ø§Ù„: Ù…Ù† Ø®Ø§Ù„ØªÙƒÙ… Ù…Ø¯Ù‰)">

    <div class="actions">
      <a class="btn" id="add-cart">Ø¥Ø¶Ø§ÙØ© Ù„Ù„Ø³Ù„Ø© ÙˆØ§Ù„Ù…ØªØ§Ø¨Ø¹Ø©</a>
      <a class="ghost" href="index.html">Ø±Ø¬ÙˆØ¹</a>
    </div>
  </div></div>
</main>

<footer>
  <div class="container">
    <div>Â© <span id="y"></span> ÙˆØ§Ø¹ÙŠ ÙƒÙŠØ¯Ø²</div>
  </div>
</footer>

<script type="module">
  import { Cart, initReveal } from './js/cart.js';
  initReveal();
  document.getElementById('y').textContent = new Date().getFullYear();

  const PRODUCTS = {
    'baby-girl': { name:'Ø¨ÙÙƒØ³ Ø§Ù„Ù…ÙˆØ§Ù„ÙŠØ¯ â€” Ø¨Ù†Ø§Øª', price:149, img:'images/girl.png' },
    'baby-boy' : { name:'Ø¨ÙÙƒØ³ Ø§Ù„Ù…ÙˆØ§Ù„ÙŠØ¯ â€” Ø£ÙˆÙ„Ø§Ø¯', price:149, img:'images/boy1.png' }
  };

  let sku = new URLSearchParams(location.search).get('sku') || 'baby-girl';
  const img = document.getElementById('p-img');
  const nameEl = document.getElementById('p-name');
  const priceEl = document.getElementById('p-price');
  const typeSel = document.getElementById('p-type');

  function render(){
    const p = PRODUCTS[sku];
    img.src = p.img; nameEl.textContent = p.name; priceEl.textContent = p.price; typeSel.value = sku;
  }
  render();
  typeSel.onchange = () => { sku = typeSel.value; render(); };

  document.getElementById('add-cart').onclick = () => {
    const qty = Math.max(1, parseInt(document.getElementById('qty').value||'1', 10));
    const p = PRODUCTS[sku];
    const enabled = document.getElementById('enableGift').checked;
    const gift = enabled ? {
      name:  document.getElementById('g-name').value.trim(),
      msg:   document.getElementById('g-msg').value.trim(),
      from:  document.getElementById('g-from').value.trim()
    } : null;

    Cart.upsert({ sku, name:p.name, price:p.price, qty, gift });
    location.href = 'checkout.html';
  };
</script>
</body></html>