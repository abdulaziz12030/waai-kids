<!doctype html><html lang="ar" dir="rtl"><head>
<meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1">
<title>Ø¥ØªÙ…Ø§Ù… Ø§Ù„Ø·Ù„Ø¨</title><link rel="stylesheet" href="css.css"></head><body>
<header><div class="container nav"><div class="brand"><img class="logo" src="images/logo.png"><strong>ÙˆØ§Ø¹ÙŠ ÙƒÙŠØ¯Ø²</strong></div><a href="#" class="ghost">ğŸ›ï¸ <span data-cart-count>0</span></a></div></header>
<main class="container" style="padding:18px 0">
  <div class="card"><div class="body">
    <h2>Ø§Ù„Ø³Ù„Ø©</h2>
    <div id="list"></div>
    <div id="gift"></div>
    <div style="margin-top:8px">Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ: <strong id="total">0</strong> Ø±.Ø³</div>
    <input class="ghost" id="c-name" placeholder="Ø§Ø³Ù… Ø§Ù„Ø¹Ù…ÙŠÙ„">
    <input class="ghost" id="c-phone" placeholder="Ø§Ù„Ø¬ÙˆØ§Ù„">
    <input class="ghost" id="c-city" placeholder="Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©">
    <div class="actions"><a class="btn" id="wa">Ø¥Ø±Ø³Ø§Ù„ Ø¹Ø¨Ø± ÙˆØ§ØªØ³Ø§Ø¨</a><a class="ghost" href="product.html">Ù…ØªØ§Ø¨Ø¹Ø© Ø§Ù„ØªØ³ÙˆÙ‚</a></div>
  </div></div>
</main>
<script type="module">
import { Cart } from './js/cart.js';
function fmt(n){return new Intl.NumberFormat('ar-SA').format(n)}
const items=Cart.get(); let total=0; const list=document.getElementById('list');
items.forEach((x,i)=>{ const sum=x.price*x.qty; total+=sum; const d=document.createElement('div'); d.className='pill'; d.style.margin='6px 0'; d.textContent=`${x.name} Ã— ${x.qty} = ${sum} Ø±.Ø³`; list.appendChild(d); });
document.getElementById('total').textContent=fmt(total);
const last=Cart.getLast(); if(last&&last.gift){const g=last.gift; document.getElementById('gift').innerHTML=`<div class="pill">Ø¨Ø·Ø§Ù‚Ø© Ø§Ù„Ø¥Ù‡Ø¯Ø§Ø¡</div><div>Ø§Ù„Ø§Ø³Ù…: ${g.name||'-'}</div><div>Ø§Ù„Ø±Ø³Ø§Ù„Ø©: ${g.message||'-'}</div><div>Ù…Ù†: ${g.from||'-'}</div>`;}
document.getElementById('wa').onclick=()=>{ const n=(document.getElementById('c-name').value||'').trim(); const p=(document.getElementById('c-phone').value||'').trim(); const c=(document.getElementById('c-city').value||'').trim(); let msg='Ø·Ù„Ø¨ Ø¬Ø¯ÙŠØ¯ - ÙˆØ§Ø¹ÙŠ ÙƒÙŠØ¯Ø²\n'; Cart.get().forEach(x=> msg+=`- ${x.name} Ã— ${x.qty} = ${x.price*x.qty} Ø±.Ø³\n`); if(last&&last.gift){const g=last.gift; msg+=`\nØ¨Ø·Ø§Ù‚Ø© Ø§Ù„Ø¥Ù‡Ø¯Ø§Ø¡:\nØ§Ù„Ø§Ø³Ù…: ${g.name||'-'}\nØ§Ù„Ø±Ø³Ø§Ù„Ø©: ${g.message||'-'}\nÙ…Ù†: ${g.from||'-'}\n`; } msg+=`\nØ§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ: ${total} Ø±.Ø³\nØ§Ù„Ø¹Ù…ÙŠÙ„: ${n} | ${p} | ${c}`; location.href='https://wa.me/966552794082?text='+encodeURIComponent(msg); };
</script>
</body></html>